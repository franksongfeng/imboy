[
    {imboy, [
        % http服务端口
        {http_port, 9800}
        % , {host, <<"dev.imoby.pub">>}
        , {host, '_'}

        , {eturnal_secret, <<"crypt1c">>}
        , {eturnal_uris, [<<"turn:dev.imboy.pub:34780?transport=udp">>]}
        , {imboy_cipher_key, "hrvUm#>vK9/c@'a`>reT4`!B)e?P]+xA3.]X6.xC"}

        % upload_for_collect 值不要 / 结尾
        , {upload_for_collect, <<"https://c.imboy.pub">>}
        , {auth_keys, [
            % {场景值binary, 场景对应的密钥字符串，为128比特，也就是16字节}
            {<<"dev">>, "Bce?Pd+xA1.]a6xC"}
            , {<<"open">>, "Bce?Pd+xA1.]a6xC"}
        ]}

        % Dart语言对特殊字符支持不是很友好，避免特殊字符
        % 与APP端约定的，用于服务端和APP交互数据对称加密的密钥 32 字符
        , {solidified_key, ""}
        % Dart语言对特殊字符支持不是很友好，避免特殊字符
        % IV 必须都为128比特，也就是16字节
        , {solidified_key_iv, ""}
        , {hashids_salt, "cVQtrKNa"}
        , {register_switch, <<"on">>}
        , {register_off_tips, ""}

        % smtp 配置参考 https://github.com/gen-smtp/gen_smtp
        , {smtp_option, [
            {relay, "smtp.qq.com"}
            , {ssl, true}
            , {auth,always}
            , {trace_fun, fun io:format/2}
            , {username, ""}
            , {password, ""}
        ]}

        , {sms, [
            {switch, <<"off">>}
            , {default_code, <<"6666">>}
            , {platform, <<"aliyun">>}
            , {<<"aliyun">>, [
                {sign_name, <<"xxx"/utf8>>}
                , {template_code, <<"">>}
                , {key_id, <<"">>}
                , {key_secret, <<"">>}
                , {region_id, <<"cn-shenzhen">>}
            ]}
        ]}

        , {sql_driver, pgsql}
        , {pg_conf
            , #{name => pgsql,
                max_count => 80,
                init_count => 5,
                start_mfa => {
                    epgsql
                    , connect
                    , [
                        #{
                            host => "localhost"
                            , username => "imboy_user"
                            , password => "123456"
                            , database => "imboy_v1"
                            , port => 5432
                            , ssl => false
                        }
                    ]
                }
            }
        }

        %% Depcache settings,
        , {depcache, [
            % maximum size in mbs
            {depcache_memory_max, 100}
        ]}
        , {redis_options, [{password, ""}, {database, 0}, {host, "127.0.0.1"}, {port, 6379}]}
    ]}

    , {throttle, [
        {rates, [
            {refreshtoken, 1, per_minute}
            , {throttle_ws, 20, per_minute}
            , {throttle_ws, 1, per_second}
        ]}
    ]}

    %% Lager Bein %%%
    , {sasl, [
        {utc_log, true},
        {sasl_error_logger, {file, "log/sasl-error.log"}},
        {errlog_type, error},
        {error_logger_mf_dir, "log/sasl"},      % Log directory
        {error_logger_mf_maxbytes, 104857600},   % 100 MB max file size
        {error_logger_mf_maxfiles, 255}           % 255 files max
    ]}

    , {lager, [
        {log_root, "./log"}
        %% What handlers to install with what arguments
        , {handlers, [
            {lager_console_backend, [{level, debug},{level, debug},{formatter, lager_default_formatter},
                {formatter_config, [color, date," ",time, " [", severity, "] ", node,"#",pid, " ", message, "1",sev, "1","\n"]}]}
            , {lager_file_backend, [
                {file, "error.log"}, {level, error}, {size, 10485760}, {date, "$D0"}, {count, 999}]
            }
            , {lager_file_backend, [
                {file, "debug.log"}, {level, debug}, {size, 10485760}, {date, "$D0"}, {count, 999}]
            }
        ]}
        , {colored,true}
        , {colors, [
            {debug,     "\e[0:38m" },
            {info,      "\e[1;32m" },
            {notice,    "\e[1;36m" },
            {warning,   "\e[1;33m" },
            {error,     "\e[1;31m" },
            {critical,  "\e[1;35m" },
            {alert,     "\e[1;44m" },
            {emergency, "\e[1;41m" }
        ]}
    ]}
    , {kernel, [
        {start_timer, true}
        , {logger_level, all}
    ]}
    %% Lager End %%%
].
